@page "/"
@using RunTracker.Models

<PageTitle>Home</PageTitle>
<div class="page-content">    
     <div class="content-card">
        <p class="content-card-title">My Running Stats</p>

        <div class="stats-container">
            <div class="stat-box">
                <p class="stat-header">Avg Pace</p>
                <p class="stat-detail">@_averagePace</p>
            </div>

            <div class="stat-box">
                <p class="stat-header">Avg Distance</p>
                <p class="stat-detail">@_averageDistance.ToString("N2") mi</p>
            </div>

            <div class="stat-box">
                <p class="stat-header">Top Pace</p>
                <p class="stat-detail">@_topPace</p>
            </div>

            <div class="stat-box">
                <p class="stat-header">Top Distance</p>
                <p class="stat-detail">@_topDistance.ToString("N2") mi</p>
            </div>
        </div>
    </div>

    <div class="content-card run-entry">
        <a href="/add" class="create-entry-link">
            <div class="create-entry-button">
                <p>Enter new run</p>
                <Icon Name="IconName.PlusCircle"/>
            </div>
            
        </a>
    </div>

    @foreach (Run run in _runList ?? []) {
        <div class="content-card run-entry">
            <div class="entry-actions">
                <a href="/edit/@run.Id" class="run-entry-edit"><Icon Name="IconName.PencilSquare"/></a>
                <a href="/delete/@run.Id" class="run-entry-delete"><Icon Name="IconName.X"/></a>
            </div>
            <div class="entry-section">
                <p class="entry-title"><strong>@run.Label</strong></p>
            </div>
            <div class="entry-section">
                <div class="entry-date">
                    <Icon Name="IconName.Calendar"/>
                    <p class="content-card-detail">@run.Date.ToString("MM/dd/yyyy")</p>
                </div>
                <div class="entry-mileage">
                    <Icon Name="IconName.Map"/>
                    <p class="content-card-detail">@run.Mileage mi</p>
                </div>
                <div class="entry-duration">
                    <Icon Name="IconName.Clock"/>
                    <p class="content-card-detail">@run.Duration</p>
                </div>
                <div class="entry-pace">
                    <Icon Name="IconName.Speedometer"/>
                    <p class="content-card-detail">@Run.Pace(run)</p>
                </div>
            </div>
        </div>
    }
    
</div>
